plugins {
  id 'java'
  id("com.github.node-gradle.node") version "3.5.1"
}

repositories {
  mavenCentral()
}

dependencies {
  implementation 'com.fasterxml.jackson.core:jackson-databind:2.12.7.1'
}

node {
  version = '16.19.1'
  npmVersion = '8.19.3'
  download = true
}


task buildAngular(type: NodeTask) {
  script = file("node_modules/@angular/cli/bin/ng.js")
  args = ['build', '--configuration=production']
  workingDir = file("$rootDir/frontend")
}

build {
  dependsOn buildAngular
}
